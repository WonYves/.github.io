<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Way&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/ohwo2.jpg">
    <meta name="description" content="分享笔记，技术博客">
    
    <link rel="preload" href="/assets/css/0.styles.371b360f.css" as="style"><link rel="preload" href="/assets/js/app.fc7c5bc7.js" as="script"><link rel="preload" href="/assets/js/2.63c13255.js" as="script"><link rel="preload" href="/assets/js/17.0894c952.js" as="script"><link rel="prefetch" href="/assets/js/10.79b536f6.js"><link rel="prefetch" href="/assets/js/11.b84ee3bb.js"><link rel="prefetch" href="/assets/js/12.9dce3597.js"><link rel="prefetch" href="/assets/js/13.269ca0af.js"><link rel="prefetch" href="/assets/js/14.42877524.js"><link rel="prefetch" href="/assets/js/15.34c63c64.js"><link rel="prefetch" href="/assets/js/16.48a7de59.js"><link rel="prefetch" href="/assets/js/18.cad1cde2.js"><link rel="prefetch" href="/assets/js/19.c5398eeb.js"><link rel="prefetch" href="/assets/js/20.5d27b626.js"><link rel="prefetch" href="/assets/js/21.6ea4d0d0.js"><link rel="prefetch" href="/assets/js/22.ec1931dc.js"><link rel="prefetch" href="/assets/js/23.880263be.js"><link rel="prefetch" href="/assets/js/24.2ddebb99.js"><link rel="prefetch" href="/assets/js/25.ef2386f5.js"><link rel="prefetch" href="/assets/js/26.0d8a3414.js"><link rel="prefetch" href="/assets/js/27.3d3ff193.js"><link rel="prefetch" href="/assets/js/28.c72f1e8e.js"><link rel="prefetch" href="/assets/js/29.43886ab5.js"><link rel="prefetch" href="/assets/js/3.8f9ab274.js"><link rel="prefetch" href="/assets/js/30.3dcf7cc7.js"><link rel="prefetch" href="/assets/js/31.91f2c155.js"><link rel="prefetch" href="/assets/js/32.9d8fc0c2.js"><link rel="prefetch" href="/assets/js/33.9bb99865.js"><link rel="prefetch" href="/assets/js/34.12b03c91.js"><link rel="prefetch" href="/assets/js/35.6208e8b8.js"><link rel="prefetch" href="/assets/js/36.2e035d0b.js"><link rel="prefetch" href="/assets/js/37.8a6d0897.js"><link rel="prefetch" href="/assets/js/38.28e420c7.js"><link rel="prefetch" href="/assets/js/39.9845f810.js"><link rel="prefetch" href="/assets/js/4.5f36dc91.js"><link rel="prefetch" href="/assets/js/40.886adf3d.js"><link rel="prefetch" href="/assets/js/41.f771f188.js"><link rel="prefetch" href="/assets/js/42.53b9045d.js"><link rel="prefetch" href="/assets/js/43.85190066.js"><link rel="prefetch" href="/assets/js/44.0e1f6bf7.js"><link rel="prefetch" href="/assets/js/45.fcb1aa1f.js"><link rel="prefetch" href="/assets/js/46.17bbbb09.js"><link rel="prefetch" href="/assets/js/47.6c9561ce.js"><link rel="prefetch" href="/assets/js/48.dd869cc4.js"><link rel="prefetch" href="/assets/js/5.833b4935.js"><link rel="prefetch" href="/assets/js/6.8d81f0ec.js"><link rel="prefetch" href="/assets/js/7.1e08345a.js"><link rel="prefetch" href="/assets/js/8.a5be2345.js"><link rel="prefetch" href="/assets/js/9.d99f5434.js">
    <link rel="stylesheet" href="/assets/css/0.styles.371b360f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Way's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/react.html" class="nav-link">
  React基础语法
</a></li><li class="dropdown-item"><!----> <a href="/React/hook.html" class="nav-link">
  React-Hooks
</a></li><li class="dropdown-item"><!----> <a href="/React/Redux.html" class="nav-link">
  Redux
</a></li><li class="dropdown-item"><!----> <a href="/React/React-Router.html" class="nav-link">
  React-Router
</a></li><li class="dropdown-item"><!----> <a href="/React/深入理解Redux.html" class="nav-link">
  深入理解Redux
</a></li><li class="dropdown-item"><!----> <a href="/React/Immutable.html" class="nav-link">
  Immutable
</a></li><li class="dropdown-item"><!----> <a href="/React/RouterV6.html" class="nav-link">
  RouterV6
</a></li><li class="dropdown-item"><!----> <a href="/talk/react-hooks中的过期闭包问题.html" class="nav-link">
  react-hooks中的过期闭包问题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/Vue基础.html" class="nav-link">
  Vue基础
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue组件化.html" class="nav-link">
  Vue组件化
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue-router.html" class="nav-link">
  Vue-router
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue状态管理.html" class="nav-link">
  Vue状态管理
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue性能优化.html" class="nav-link">
  Vue性能优化
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Mixins混入.html" class="nav-link">
  Mixins混入
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue双向绑定原理.html" class="nav-link">
  Vue双向绑定
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue3 setup语法糖.html" class="nav-link">
  Vue3 setup语法糖
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/浅拷贝和深拷贝.html" class="nav-link">
  浅拷贝和深拷贝
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件循环Eventloop.html" class="nav-link">
  事件循环EventLoop
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/重绘回流.html" class="nav-link">
  重绘回流(重排)
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/call、apply、bind.html" class="nav-link">
  call、apply、bind方法
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/设计模式.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/手写promise.html" class="nav-link">
  手写promise
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/TypeScript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/talk/Ajax、Fetch、Axios这三者有什么区别.html" class="nav-link">
  Ajax、Fetch、Axios这三者有什么区别
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人项目" class="dropdown-title"><span class="title">个人项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人项目" class="mobile-dropdown-title"><span class="title">个人项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/个人项目/ReactEvents.html" class="nav-link">
  ReactEvents
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Vue2-文章后台管理系统.html" class="nav-link">
  Vue2-文章后台管理系统
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Vue2-MovieShop.html" class="nav-link">
  Vue2-MovieShop
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Yi-MiniShop.html" class="nav-link">
  Yi-MiniShop
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Netease-Cloud-Music.html" class="nav-link">
  Netease-Cloud-Music(完成中)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随便聊聊" class="dropdown-title"><span class="title">随便聊聊</span> <span class="arrow down"></span></button> <button type="button" aria-label="随便聊聊" class="mobile-dropdown-title"><span class="title">随便聊聊</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Css/CSS.html" class="nav-link">
  Css基础+css3
</a></li><li class="dropdown-item"><!----> <a href="/Css/css属性.html" class="nav-link">
  Css常用属性
</a></li><li class="dropdown-item"><!----> <a href="/WebPack/WebPack.html" class="nav-link">
  WebPack入门基础
</a></li><li class="dropdown-item"><!----> <a href="/WebPack/WebPack面试题.html" class="nav-link">
  WebPack面试题
</a></li><li class="dropdown-item"><!----> <a href="/talk/talk.html" class="nav-link">
  高频面试题
</a></li><li class="dropdown-item"><!----> <a href="/talk/git.html" class="nav-link">
  git使用
</a></li><li class="dropdown-item"><!----> <a href="/talk/小程序.html" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/talk/uniapp购物车.html" class="nav-link">
  uniapp购物车
</a></li><li class="dropdown-item"><!----> <a href="/talk/三种排序算法.html" class="nav-link">
  三种排序算法
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/React/react.html" class="nav-link">
  React基础语法
</a></li><li class="dropdown-item"><!----> <a href="/React/hook.html" class="nav-link">
  React-Hooks
</a></li><li class="dropdown-item"><!----> <a href="/React/Redux.html" class="nav-link">
  Redux
</a></li><li class="dropdown-item"><!----> <a href="/React/React-Router.html" class="nav-link">
  React-Router
</a></li><li class="dropdown-item"><!----> <a href="/React/深入理解Redux.html" class="nav-link">
  深入理解Redux
</a></li><li class="dropdown-item"><!----> <a href="/React/Immutable.html" class="nav-link">
  Immutable
</a></li><li class="dropdown-item"><!----> <a href="/React/RouterV6.html" class="nav-link">
  RouterV6
</a></li><li class="dropdown-item"><!----> <a href="/talk/react-hooks中的过期闭包问题.html" class="nav-link">
  react-hooks中的过期闭包问题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/Vue基础.html" class="nav-link">
  Vue基础
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue组件化.html" class="nav-link">
  Vue组件化
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue-router.html" class="nav-link">
  Vue-router
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue状态管理.html" class="nav-link">
  Vue状态管理
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue性能优化.html" class="nav-link">
  Vue性能优化
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Mixins混入.html" class="nav-link">
  Mixins混入
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue双向绑定原理.html" class="nav-link">
  Vue双向绑定
</a></li><li class="dropdown-item"><!----> <a href="/Vue/Vue3 setup语法糖.html" class="nav-link">
  Vue3 setup语法糖
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/浅拷贝和深拷贝.html" class="nav-link">
  浅拷贝和深拷贝
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件循环Eventloop.html" class="nav-link">
  事件循环EventLoop
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/重绘回流.html" class="nav-link">
  重绘回流(重排)
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/call、apply、bind.html" class="nav-link">
  call、apply、bind方法
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/设计模式.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/手写promise.html" class="nav-link">
  手写promise
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/TypeScript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/talk/Ajax、Fetch、Axios这三者有什么区别.html" class="nav-link">
  Ajax、Fetch、Axios这三者有什么区别
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人项目" class="dropdown-title"><span class="title">个人项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人项目" class="mobile-dropdown-title"><span class="title">个人项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/个人项目/ReactEvents.html" class="nav-link">
  ReactEvents
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Vue2-文章后台管理系统.html" class="nav-link">
  Vue2-文章后台管理系统
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Vue2-MovieShop.html" class="nav-link">
  Vue2-MovieShop
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Yi-MiniShop.html" class="nav-link">
  Yi-MiniShop
</a></li><li class="dropdown-item"><!----> <a href="/个人项目/Netease-Cloud-Music.html" class="nav-link">
  Netease-Cloud-Music(完成中)
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="随便聊聊" class="dropdown-title"><span class="title">随便聊聊</span> <span class="arrow down"></span></button> <button type="button" aria-label="随便聊聊" class="mobile-dropdown-title"><span class="title">随便聊聊</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Css/CSS.html" class="nav-link">
  Css基础+css3
</a></li><li class="dropdown-item"><!----> <a href="/Css/css属性.html" class="nav-link">
  Css常用属性
</a></li><li class="dropdown-item"><!----> <a href="/WebPack/WebPack.html" class="nav-link">
  WebPack入门基础
</a></li><li class="dropdown-item"><!----> <a href="/WebPack/WebPack面试题.html" class="nav-link">
  WebPack面试题
</a></li><li class="dropdown-item"><!----> <a href="/talk/talk.html" class="nav-link">
  高频面试题
</a></li><li class="dropdown-item"><!----> <a href="/talk/git.html" class="nav-link">
  git使用
</a></li><li class="dropdown-item"><!----> <a href="/talk/小程序.html" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/talk/uniapp购物车.html" class="nav-link">
  uniapp购物车
</a></li><li class="dropdown-item"><!----> <a href="/talk/三种排序算法.html" class="nav-link">
  三种排序算法
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a name="hLYpq"></a></p> <h5 id="一、浅拷贝"><a href="#一、浅拷贝" class="header-anchor">#</a> 一、浅拷贝</h5> <p><a name="tPv0s"></a></p> <h6 id="_1、什么是浅拷贝"><a href="#_1、什么是浅拷贝" class="header-anchor">#</a> 1、什么是浅拷贝？</h6> <p>浅拷贝是创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址 ，所以如果其中一个对象改变了这个地址，就会影响到另一个对象。<br>浅拷贝只是拷贝一层，更深层次对象级别的只拷贝引用
<a name="Q28NA"></a></p> <h6 id="_2、如何实现浅拷贝"><a href="#_2、如何实现浅拷贝" class="header-anchor">#</a> 2、如何实现浅拷贝？</h6> <p>（1）Object.assign()<br>Object.assign({},obj,...)可以接收无限个参数，obj中的引用类型属性会被浅拷贝。 当对象中只有一级属性，没有二级属性的时候，此方法为深拷贝，但是对象中有对象的时候，此方法，在二级属性以后就是浅拷贝。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1、Object.assign()</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>          
  <span class="token comment">//原数据 { name: 'lucky', hobby: { like: 'running' } }</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lucky'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">like</span><span class="token operator">:</span> <span class="token string">'running'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> copyPerson <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> person<span class="token punctuation">)</span>
copyPerson<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'mouse'</span>           <span class="token comment">//name是基本数据类型</span>
copyPerson<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span>like <span class="token operator">=</span> <span class="token string">'singing'</span>   <span class="token comment">//hobby是引用类型</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyPerson<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//{ name: 'mouse', hobby: { like: 'singing' } }</span>
<span class="token comment">//对比原数据，对象copyPerson的改变影响了对象person的改变</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>     
<span class="token comment">//{ name: 'lucky', hobby: { like: 'singing' } }</span>
</code></pre></div><p>（2）扩展运算符<br>扩展运算符（...）类似于Object.assign()<br>A.拷贝对象</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 扩展运算符</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>  
<span class="token comment">//原数据 { name: 'lucky', hobby: { like: 'running' } }</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lucky'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">like</span><span class="token operator">:</span> <span class="token string">'running'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> copyPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>person
<span class="token punctuation">}</span>
copyPerson<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'dunny'</span>
copyPerson<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span>like <span class="token operator">=</span> <span class="token string">'swimming'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>       
<span class="token comment">//{ name: 'lucky', hobby: { like: 'swimming' } }</span>
<span class="token comment">//对比原数据，对象copyPerson的改变影响了对象person的改变</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyPerson<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token comment">//{ name: 'dunny', hobby: { like: 'swimming' } }</span>
</code></pre></div><p>B.拷贝数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'hobby'</span><span class="token punctuation">,</span> <span class="token string">'person'</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>
<span class="token comment">// 原数据[ 'name', 'hobby', 'person', { age: 19 } ]</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> copyArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span>
copyArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'nickname'</span><span class="token punctuation">;</span>
copyArr<span class="token punctuation">[</span>copyArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyArr<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token comment">// [ 'nickname', 'hobby', 'person', { age: 20 } ]</span>
<span class="token comment">// 对比原数据，数组copyArr的改变影响了数组arr的改变</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>       
<span class="token comment">// [ 'name', 'hobby', 'person', { age: 20 } ]</span>
</code></pre></div><p>（3）Array.prototype.concat()</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//Array.prototype.concat()</span>
<span class="token keyword">let</span> myArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'old'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//原数据[ 'old', null, undefined, true, { </span>
<span class="token comment">//  hobby: 'undefined' } ]</span>
<span class="token keyword">let</span> copyMyarr1 <span class="token operator">=</span> myArr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

copyMyarr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'nickname'</span><span class="token punctuation">;</span>
copyMyarr1<span class="token punctuation">[</span>copyMyarr1<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hobby <span class="token operator">=</span> <span class="token string">'books'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyMyarr1<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//[ 'nickname', null, undefined, true, { hobby: 'books' }]</span>
<span class="token comment">//对比原数据，数组copyMyarr1的改变影响了数组myArr的改变</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//[ 'old', null, undefined, true, { hobby: 'books' } ]</span>

</code></pre></div><p>（4）Array.prototype.slice()</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//Array.prototype.slice()</span>
<span class="token keyword">let</span> myArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'old'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token comment">//原数据[ 'old', null, undefined, true, { hobby: 'undefined' } ]</span>
<span class="token keyword">let</span> copyMyarr2 <span class="token operator">=</span> myArr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
copyMyarr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'nickname'</span><span class="token punctuation">;</span>
copyMyarr2<span class="token punctuation">[</span>copyMyarr2<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hobby <span class="token operator">=</span> <span class="token string">'books'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyMyarr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 'nickname', null, undefined, true, { hobby: 'books' } ]</span>
<span class="token comment">//对比原数据，数组copyMyarr2的改变影响了数组myArr的改变</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 'old', null, undefined, true, { hobby: 'books' } ]</span>

</code></pre></div><p>A.demo1</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//Array.prototype.slice()</span>
<span class="token keyword">let</span> myArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'old'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token comment">/* 原数据[ 'old', null, undefined, true, {
 hobby: 'undefined'
}] */</span>
<span class="token keyword">let</span> copyMyarr2 <span class="token operator">=</span> myArr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
copyMyarr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'nickname'</span><span class="token punctuation">;</span>
copyMyarr2<span class="token punctuation">[</span>copyMyarr2<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>hobby <span class="token operator">=</span> <span class="token string">'books'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyMyarr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 'nickname', null, undefined, true, { hobby: 'books' } ]</span>
<span class="token comment">//对比原数据，数组copyMyarr2的改变影响了数组myArr的改变</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[ 'old', null, undefined, true, { hobby: 'books' } ]</span>

</code></pre></div><p>B.demo2</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lucky'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>
<span class="token keyword">let</span> copyNewarr <span class="token operator">=</span> newArr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
copyNewarr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'chicken'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyNewarr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[ [ { name: 'lucky' }, name: 'chicken' ], [ 'age' ] ]</span>

</code></pre></div><p><a name="ADX6C"></a></p> <h5 id="二、深拷贝"><a href="#二、深拷贝" class="header-anchor">#</a> 二、深拷贝</h5> <p><a name="j8uRd"></a></p> <h6 id="_1、什么是深拷贝"><a href="#_1、什么是深拷贝" class="header-anchor">#</a> 1、什么是深拷贝？</h6> <p>深拷贝是将一个对象从内存中完整的拷贝一份出来,从堆内存中开辟一个新的区域存放新对象,且修改新对象不会影响原对象。<br>深拷贝拷贝多层，每一级别的数据都会拷贝。
<a name="XByJk"></a></p> <h6 id="_2、如何实现深拷贝"><a href="#_2、如何实现深拷贝" class="header-anchor">#</a> 2、如何实现深拷贝？</h6> <p>(1)JSON.parse(JSON.stringify(obj))<br>JSON.stringify() 将JSON格式的对象转为字符串<br>JSON.parse() 将JSON格式的字符串转为对象</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1、 JSON.parse(JSON.stringify(obj))</span>
<span class="token keyword">let</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lucky'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">like</span><span class="token operator">:</span> <span class="token string">'dancing'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">birth</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'Banana'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">regexp</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^A</span><span class="token regex-delimiter">/</span></span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myStudent <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//会忽略Symbol,undefined和函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myStudent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//   name: 'lucky',</span>
<span class="token comment">//   hobby: { like: 'dancing' },</span>
<span class="token comment">//   date: '2022-10-11T10:45:21.484Z',</span>
<span class="token comment">//   regexp: {}</span>
<span class="token comment">// }</span>
myStudent<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'duck'</span><span class="token punctuation">;</span>
myStudent<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span>like <span class="token operator">=</span> <span class="token string">'reading'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myStudent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//   name: 'duck',</span>
<span class="token comment">//   hobby: { like: 'reading' },</span>
<span class="token comment">//   date: '2022-10-11T10:45:21.484Z',</span>
<span class="token comment">//   regexp: {}</span>
<span class="token comment">// }</span>
<span class="token comment">// myStudent的改变不会影响student</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//  name: 'lucky',</span>
<span class="token comment">//  hobby: {</span>
<span class="token comment">//      like: 'dancing'</span>
<span class="token comment">//  },</span>
<span class="token comment">//  birth: undefined,</span>
<span class="token comment">//  title: Symbol(Banana),</span>
<span class="token comment">//  date: 2022 - 10 - 11 T10: 49: 10.521 Z,</span>
<span class="token comment">//  regexp: /^A/</span>
<span class="token comment">// }</span>
</code></pre></div><p>缺陷：<br>A.会忽略Symbol和undefined和function<br>B.不能拷贝循环引用的对象，例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 循环</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> b
<span class="token punctuation">}</span>

b<span class="token punctuation">.</span>a <span class="token operator">=</span> a
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//TypeError: Converting circular structure to JSON</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>C.不能序列化函数，拷贝出来的对象的属性顺序可能会和源对象不一致<br>D.拷贝Date对象，得到的是字符串；拷贝RegExp对象，得到的是{}<br>E.对象中含有NaN，Infinity会变成null
<a name="IVVE2"></a></p> <h5 id="三、手写浅拷贝"><a href="#三、手写浅拷贝" class="header-anchor">#</a> 三、手写浅拷贝</h5> <p>实现浅拷贝核心思想：如果属性是基本数据类型，则拷贝基本类型的值；如果属性是引用类型，拷贝的就是内存地址 ，会受拷贝对象（本体）的影响。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">shallowCopy</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> newObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// let newObj=obj instanceof Array ?[]:{};</span>
    <span class="token comment">// let newObj=obj instanceof Object ?[]:{};</span>
    <span class="token comment">//这个不能判断</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//自己本身具有的属性</span>
            newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
    <span class="token comment">// console.log(newObj);</span>
<span class="token punctuation">}</span>
<span class="token comment">// 测试对象</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lucky'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">like</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">life</span><span class="token operator">:</span> <span class="token string">'running'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myObj <span class="token operator">=</span> <span class="token function">shallowCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
myObj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'dunny'</span>
myObj<span class="token punctuation">.</span>like<span class="token punctuation">.</span>life <span class="token operator">=</span> <span class="token string">'singing'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//{ name: 'dunny', like: { life: 'singing' } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//{ name: 'lucky', like: { life: 'singing' } }</span>


<span class="token comment">// 测试数组</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'cat'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> myArr <span class="token operator">=</span> <span class="token function">shallowCopy</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
myArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'moon'</span>
myArr<span class="token punctuation">[</span>myArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'dog'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//[ 'hello', 'moon', { name: 'dog' } ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[ 'hello', 'world', { name: 'dog' } ]</span>

</code></pre></div><p><a name="mKVl4"></a></p> <h5 id="四、手写深拷贝"><a href="#四、手写深拷贝" class="header-anchor">#</a> 四、手写深拷贝</h5> <p>实现深拷贝核心思想：原始类型直接拷贝，引用类型递归。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 深拷贝</span>
<span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 过滤原始类型</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span>

    <span class="token comment">// 过滤null类型 因为typeof null==object，</span>
    <span class="token comment">// 使用不能使用typeof判断null数据类型</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span>

    <span class="token keyword">let</span> newObj <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// let newObj=obj instanceof Array ?[]:{};</span>

    <span class="token comment">// 拷贝Date对象</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 拷贝RegExp对象</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//自己本身具有的属性</span>
            newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">==</span> 
          <span class="token string">'object'</span> <span class="token operator">?</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试对象</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lucky'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">like</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">life</span><span class="token operator">:</span> <span class="token string">'running'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myObj <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
myObj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'dunny'</span>
myObj<span class="token punctuation">.</span>like<span class="token punctuation">.</span>life <span class="token operator">=</span> <span class="token string">'singing'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//{ name: 'dunny', like: { life: 'singing' } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//{ name: 'lucky', like: { life: 'running' } }</span>


<span class="token comment">// 测试数组</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'cat'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> myArr <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
myArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'moon'</span>
myArr<span class="token punctuation">[</span>myArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'dog'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//[ 'hello', 'moon', { name: 'dog' } ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//[ 'hello', 'world', { name: 'cat' } ]</span>

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fc7c5bc7.js" defer></script><script src="/assets/js/2.63c13255.js" defer></script><script src="/assets/js/17.0894c952.js" defer></script>
  </body>
</html>
